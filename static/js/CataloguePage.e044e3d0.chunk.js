"use strict";(self.webpackChunksmarttechnics_react=self.webpackChunksmarttechnics_react||[]).push([[488],{9957:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(184),a=function(e){return(0,r.jsxs)("div",{className:"product-skeleton",children:[(0,r.jsx)("div",{className:"product-skeleton__labels"}),(0,r.jsx)("div",{className:"product-skeleton__img"}),(0,r.jsx)("div",{className:"product-skeleton__category"}),(0,r.jsx)("div",{className:"product-skeleton__title"}),(0,r.jsxs)("div",{className:"product-skeleton__user-evaluation",children:[(0,r.jsx)("div",{className:"product-skeleton__rating"}),(0,r.jsx)("div",{className:"product-skeleton__reviews"})]}),(0,r.jsxs)("div",{className:"product-skeleton__content",children:[(0,r.jsx)("div",{className:"product-skeleton__prices"}),(0,r.jsx)("div",{className:"product-skeleton__actions"})]}),(0,r.jsxs)("div",{className:"product-skeleton__purchase",children:[(0,r.jsx)("div",{className:"product-skeleton__buy-btn"}),(0,r.jsx)("div",{className:"product-skeleton__cart-btn"})]})]})}},1695:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(1413),a=n(3504),c=n(8316),s=n(9434),i=n(1694),l=n.n(i),o=n(9348),u=n(6628),d=n(8563),p=n(9957),m=n(184),h=function(e){e.id;var t=e.productId,n=e.title,i=e.category,h=e.price,f=e.discount,g=e.labels,x=e.images,_=(e.characteristics,e.reviews),v=(0,s.I0)(),j=(0,s.v9)((function(e){return e.ordering.productsInCart.some((function(e){return e.productId===t}))})),b=(0,s.v9)((function(e){return e.productsStatus.favorites.items.some((function(e){return e===t}))})),Z=(0,s.v9)((function(e){return e.productsStatus.inCompare.items.some((function(e){return e===t}))})),N=(0,o.YD)({threshold:.1,triggerOnce:!0}),C=N.ref,k=N.inView,y=l()("product-article",{"in-cart":j,"in-favorites":b,"in-compare":Z});return(0,m.jsx)("li",{className:"product",ref:C,children:k?(0,m.jsxs)("article",{className:y,children:[(0,m.jsxs)("div",{className:"product__labels",children:[g&&g.includes("Novelty")?(0,m.jsx)("div",{className:"product__label product__label--new",children:"Novelty"}):null,g&&g.includes("Hit sales")?(0,m.jsx)("div",{className:"product__label product__label--top-sale",children:"Hit sales"}):null]}),(0,m.jsx)(a.rU,{className:"product__link product__link--photo",to:"/products/".concat(t),"aria-label":"go to page of ".concat(n),children:(0,m.jsxs)("picture",{children:[(0,m.jsx)("source",{className:"product__img",srcSet:x[0].webp,type:"image/webp"}),(0,m.jsx)("img",{className:"product__img",src:x[0].src,alt:n})]})}),(0,m.jsx)("div",{className:"product__category",children:i}),(0,m.jsx)("div",{className:"product__title",children:(0,m.jsx)(a.rU,{className:"product__link product__link--name",to:"/products/".concat(t),"aria-label":"go to page of ".concat(n),children:(0,m.jsx)("p",{className:"product__name",children:n})})}),(0,m.jsxs)("div",{className:"product__user-evaluation",children:[(0,m.jsxs)("div",{className:"product__rating rating",children:[(0,m.jsx)(c.Z,{className:"rating__body",name:"hover-feedback",value:_.rating?+_.rating:0,precision:.1,readOnly:!0,size:"large"}),_.rating&&(0,m.jsx)("div",{className:"rating__value",children:(+_.rating).toFixed(2)})]}),(0,m.jsxs)(a.rU,{className:"product__reviews",to:"/products/".concat(t,"/reviews"),"aria-label":"go to page of reviews for ".concat(n),children:[(0,m.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,m.jsxs)("span",{children:["(",_.count,")"]})]})]}),(0,m.jsxs)("div",{className:"product__content",children:[(0,m.jsxs)("div",{className:"product__prices",children:[h.old?(0,m.jsx)("p",{className:"product__old-price",children:h.old}):null,(0,m.jsx)("p",{className:"product__price",children:h.current}),f?(0,m.jsxs)("p",{className:"product__discount",children:[(0,m.jsxs)("span",{className:"product__discount-percent",children:["-",f.percent,"%"]})," \u2014\xa0$"," ",f.amount]}):null]}),(0,m.jsxs)("div",{className:"product__actions",children:[(0,m.jsx)("button",{className:"product__btn product__btn--favorite",onClick:function(){v(b?(0,d.zm)({productId:t}):(0,d._p)({productId:t}))},"aria-label":"add the product to list 'Favorites'"}),(0,m.jsx)("button",{className:"product__btn product__btn--compare",onClick:function(){v(Z?(0,d.q7)({productId:t}):(0,d.a$)({productId:t}))},"aria-label":"add the product to list 'Comparement'"})]})]}),(0,m.jsxs)("div",{className:"product__purchase",children:[(0,m.jsx)(a.rU,{className:"product__buy-btn",to:"/ordering",onClick:function(){j||v((0,u.gK)((0,r.Z)((0,r.Z)({},e),{},{itemsInCart:1})))},"aria-label":"add the product to a cart and go to the Ordering page",children:"Buy in one click"}),(0,m.jsx)("button",{className:"product__cart-btn",onClick:function(){v(j?(0,u.kh)({productId:t}):(0,u.gK)((0,r.Z)((0,r.Z)({},e),{},{itemsInCart:1})))},"aria-label":"add the product to Cart"})]})]}):(0,m.jsx)(p.Z,{})})}},7811:function(e,t,n){var r=n(9957),a=n(184);t.Z=function(e){return 3===e.items?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)(r.Z,{}),(0,a.jsx)(r.Z,{})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)(r.Z,{}),(0,a.jsx)(r.Z,{}),(0,a.jsx)(r.Z,{})]})}},8251:function(e,t,n){n.d(t,{Z:function(){return c}});n(2791);var r=n.p+"static/media/errorIcon.3dda11ed501c25ed6675ce8750d43267.svg",a=n(184),c=function(){return(0,a.jsxs)("div",{className:"products__error",children:[(0,a.jsx)("img",{src:r,alt:"error happened when loading product data","aria-hidden":!0}),(0,a.jsxs)("p",{children:["Sorry! Something went wrong and products haven't been loaded. ",(0,a.jsx)("br",{})," Please, try again later."]})]})}},7076:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(4165),a=n(1413),c=n(5861),s=n(2982),i=n(885),l=n(2791),o=n(3504),u=n(1333),d=n(6563),p=n(4270),m=n(9686),h=n(4180),f=n(1695),g=n(7811),x=n(8251),_=n(802),v=n(6674),j=n(184),b=function(e){var t=e.title,n=e.checkedItems,r=e.unit,a=e.type,c=e.onReset,i="";switch(a){case"range":i="$"===r?"".concat(t,": from ").concat(r).concat(Math.min.apply(Math,(0,s.Z)(n))," to ").concat(r).concat(Math.max.apply(Math,(0,s.Z)(n))):1===n.length?"".concat(t,": ").concat(n[0]," ").concat(r):"".concat(t,": from ").concat(Math.min.apply(Math,(0,s.Z)(n))," ").concat(r," to ").concat(Math.max.apply(Math,(0,s.Z)(n))," ").concat(r);break;case"no-range":i="".concat(t,": ").concat(n.join(", "))}return(0,j.jsxs)("li",{className:"header-content-catalogue__item",children:[(0,j.jsx)("span",{children:i}),(0,j.jsx)("button",{className:"header-content-catalogue__item-btn",onClick:c,children:(0,j.jsxs)("svg",{viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7071 0.292893C18.0976 0.683417 18.0976 1.31658 17.7071 1.70711L1.70711 17.7071C1.31658 18.0976 0.683417 18.0976 0.292893 17.7071C-0.0976311 17.3166 -0.0976311 16.6834 0.292893 16.2929L16.2929 0.292893C16.6834 -0.0976311 17.3166 -0.0976311 17.7071 0.292893Z",fill:"currentColor"}),(0,j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292893 0.292893C0.683417 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L17.7071 16.2929C18.0976 16.6834 18.0976 17.3166 17.7071 17.7071C17.3166 18.0976 16.6834 18.0976 16.2929 17.7071L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683417 0.292893 0.292893Z",fill:"currentColor"})]})})]})},Z=function(e){var t=e.checkedFilters,n=e.animationSpeed,r=e.resetFilterList,c=e.resetSelectedFilter;return(0,j.jsxs)("div",{className:"header-content-catalogue__body",children:[(0,j.jsx)(_.Z,{className:"header-content-catalogue__list",component:"ul",children:t.map((function(e){if(e.checkedItems.length)return(0,j.jsx)(v.Z,{timeout:n,classNames:"header-content-catalogue__item",children:(0,j.jsx)(b,(0,a.Z)({onReset:function(){return c(e.title)}},e))},e.title)}))}),t.some((function(e){return 0!==e.checkedItems.length}))&&(0,j.jsx)("button",{className:"header-content-catalogue__btn-clear",onClick:r,children:"Reset filters"})]})},N=function(e){var t=e.placeholder,n=e.selectedValue,r=e.options,a=e.searchModule,c=void 0!==a&&a,s=e.updateSearchParams,o=e.setSelectedSortOption,u=e.productsPerPage,d=e.checkedFilters,p=e.loadNewPage,m=l.useState(!1),f=(0,i.Z)(m,2),g=f[0],x=f[1],_=l.useState(n||null),v=(0,i.Z)(_,2),b=v[0],Z=v[1],N=l.useState(""),C=(0,i.Z)(N,2),k=C[0],y=C[1],P=l.useState(r),w=(0,i.Z)(P,2),I=w[0],S=w[1],E=l.useContext(h.c).toggleScrollLock;l.useEffect((function(){if(g)return window.addEventListener("click",D),function(){window.removeEventListener("click",D)}}),[g]);var M=l.useRef(),R=l.useRef(),L=l.useRef(),A=l.useRef(),V=l.useRef(),B=function(){x((function(e){return!e})),y(""),S(r),E()},F=function(e){o(e),Z(e),"By rating decrease"===e?s():s(e),p(1,u,d,e),x(!1),E()},D=function(e){e.target.closest(".select")!==M.current&&(x(!1),E())};return(0,j.jsxs)("div",{className:g?"select opened":"select",id:"someSelectUniqueId",ref:M,children:[(0,j.jsx)("div",{className:"select__input",onClick:B,onKeyDown:function(e){"Space"!==e.code&&"Enter"!==e.code||B(),g&&e.target.matches(".select__input")&&("ArrowDown"===e.code&&(A.current&&A.current.focus(),c&&L.current.focus()),"Escape"!==e.code&&"Tab"!==e.code||(x(!1),E()))},"aria-label":"Sort by option","aria-labelledby":"someSelectUniqueId",role:"combobox","aria-expanded":g,"aria-controls":"someSelectUniqueDropdownList",tabIndex:"0",ref:R,children:(0,j.jsx)("span",{children:b||t})}),(0,j.jsxs)("div",{className:"select__dropdown","aria-expanded":g,"aria-labelledby":"someSelectUniqueId","aria-hidden":!g,children:[c&&(0,j.jsx)("input",{className:"select__search",type:"text",placeholder:"Search",onChange:function(e){return function(e){y(e);var t=r.filter((function(t){return-1!==t.toLowerCase().search(e.toLowerCase())}));S(e?t:r)}(e.target.value)},onKeyDown:function(e){g&&e.target.matches(".select__search")&&("ArrowDown"===e.code&&(V.current?(V.current.focus(),Z(V.current.textContent)):A.current&&A.current.focus()),"Escape"===e.code&&(x(!1),E(),R.current.focus()))},value:k,ref:L,tabIndex:-1,"aria-labelledby":"someSelectUniqueId"}),(0,j.jsx)("ul",{className:"select__list",role:"listbox",id:"someSelectUniqueDropdownList",children:I.length>0?I.map((function(e,t){return(0,j.jsx)("li",{className:e===b?"select__item selected":"select__item",onClick:function(){return F(e)},onKeyDown:function(t){return function(e,t){if(g&&e.target.matches(".select__item")){var n=I.findIndex((function(e){return e===t}));if("ArrowDown"===e.code&&n<I.length-1){var r=n+1;e.target.nextElementSibling.focus(),Z(I[r])}if("ArrowUp"===e.code&&n>0){var a=n-1;e.target.previousElementSibling.focus(),Z(I[a])}"Enter"!==e.code&&"Escape"!==e.code||(R.current.focus(),F(e.target.textContent))}}(t,e)},role:"option",ref:e===b&&A||0===t&&V||null,"aria-selected":e===b,tabIndex:-1,children:e},e)})):(0,j.jsx)("p",{className:"select__no-match",children:"No match"})})]})]})},C=n(3239),k=function(e){var t=e.title,n=e.children,r=e.expanded,a=e.disabled,c=l.useState(r),s=(0,i.Z)(c,2),o=s[0],u=s[1],d=l.useState("fit-content"),p=(0,i.Z)(d,2),m=p[0],h=p[1],f=l.useRef();l.useEffect((function(){h(f.current.scrollHeight+40)}),[]);var g="filter-catalogue__item filter-item",x=function(){u((function(e){return!e}))};return(0,j.jsxs)("div",{className:o?"".concat(g," opened"):g,onClick:a?null:x,children:[(0,j.jsx)("div",{className:a?"filter-item__header disabled":"filter-item__header",tabIndex:0,role:"button",onKeyDown:function(e){!e||"Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),x())},children:t}),(0,j.jsx)("div",{className:"filter-item__body",onClick:function(e){return e.stopPropagation()},ref:f,style:{maxHeight:o?m:0},children:n})]})},y=function(){return(0,j.jsxs)("div",{className:"filter-catalogue__form",children:[(0,j.jsx)(k,{title:"Price, $",expanded:!0,disabled:!0,children:(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,j.jsx)(C.Z,{})})}),(0,j.jsx)(k,{title:"Lightning",expanded:!0,disabled:!0,children:(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,j.jsx)(C.Z,{})})}),(0,j.jsx)(k,{title:"Engine power, W",disabled:!0,children:(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,j.jsx)(C.Z,{})})}),(0,j.jsx)("div",{className:"filter-catalogue__item filter-item",children:(0,j.jsx)("button",{className:"filter-item__btn",type:"submit",disabled:!0,children:"Apply"})})]})},P=function(e){var t=e.title,n=e.existingValues,r=e.checkedValues,a=e.itemsCount;return(0,j.jsx)("div",{className:"filter-item__characteristics-box",children:n.length>0&&n.map((function(e){return(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)("input",{className:"filter-item__input",type:"checkbox",id:"".concat(t,"-").concat(e),value:e,name:t,disabled:0===a[e],defaultChecked:r.includes(e)}),(0,j.jsxs)("label",{className:"filter-item__label",htmlFor:"".concat(t,"-").concat(e),tabIndex:0,children:[e,a[e]?(0,j.jsxs)("span",{children:["(",a[e],")"]}):null]})]},"".concat(t,"-").concat(e))}))})},w=n(2074),I=function(e){var t=e.value,n=e.setValue,r=l.useState(t.selectedRange||t.availableRange),c=(0,i.Z)(r,2),s=c[0],o=c[1],u=(0,m.Nr)(s,500);l.useEffect((function(){n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedRange:u})}))}),[JSON.stringify(u)]);var d=t.availableRange,p=(t.selectedRange,function(e,t,n){if(e.preventDefault(),!n.match(/\D+/gi))switch(t){case"minPrice":o((function(e){return[+n>d[1]?d[0]:+n,e[1]]}));break;case"maxPrice":o((function(e){return[e[0],+n>d[1]?d[1]:+n]}))}});return(0,j.jsx)("div",{className:"price-slider",children:(0,j.jsxs)("div",{className:"price-slider__body",children:[(0,j.jsxs)("div",{className:"price-slider__inputs",children:[(0,j.jsxs)("div",{className:"price-slider__item",children:[(0,j.jsx)("div",{className:"price-slider__label",children:"from"}),(0,j.jsx)("input",{type:"text",inputMode:"numeric",className:"price-slider__input price-slider__input--min",name:"Price","aria-label":"input a minimum price",value:s[0],onChange:function(e){p(e,"minPrice",e.target.value)}})]}),(0,j.jsxs)("div",{className:"price-slider__item",children:[(0,j.jsx)("div",{className:"price-slider__label",children:"to"}),(0,j.jsx)("input",{type:"text",inputMode:"numeric",className:"price-slider__input price-slider__input--max",name:"Price","aria-label":"input a maximum price",value:s[1],onChange:function(e){p(e,"maxPrice",e.target.value)}})]})]}),(0,j.jsx)("div",{className:"price-slider__slider",children:(0,j.jsx)(w.ZP,{getAriaLabel:function(){return"Products price range"},value:s,onChange:function(e,t){o(t)},valueLabelDisplay:"off",getAriaValueText:function(e){return"".concat(e," US dollars")},disableSwap:!0,min:d[0],max:d[1]})})]})})},S=n(307),E=function(e){var t=(0,o.lr)(),n=(0,i.Z)(t,2),_=n[0],v=n[1],b=l.useState([]),C=(0,i.Z)(b,2),w=C[0],E=C[1],M=l.useState([]),R=(0,i.Z)(M,2),L=R[0],A=R[1],V=l.useState(!0),B=(0,i.Z)(V,2),F=B[0],D=B[1],H=(0,m.EO)(),U=H.getProducts,O=H.getPagesQuantity,T=H.getExistingCharacteristics,Q=H.getFilteredData,q=H.loading,K=H.error,J=H.setLoading,W=l.useContext(h.c),$=W.unlockScroll,z=W.lockScroll,Y=l.useState(_.get("sortBy")||"By rating decrease"),G=(0,i.Z)(Y,2),X=G[0],ee=G[1],te=l.useState({currentPageNumber:parseInt(_.get("page"))||1,productsPerPage:6,availablePagesQuantity:null}),ne=(0,i.Z)(te,2),re=ne[0],ae=ne[1],ce=l.useState(!1),se=(0,i.Z)(ce,2),ie=se[0],le=se[1],oe=l.useState(!!(0,s.Z)(_).length),ue=(0,i.Z)(oe,2),de=ue[0],pe=ue[1],me=l.useState([{title:"Price",checkedItems:[],type:"range",unit:"$"},{title:"Engine power",checkedItems:[],type:"range",unit:"W"},{title:"Maximum speed",checkedItems:[],type:"range",unit:"km/h"},{title:"Lightning",checkedItems:[],type:"no-range"},{title:"Weight",checkedItems:[],type:"range",unit:"kg"}]),he=(0,i.Z)(me,2),fe=he[0],ge=he[1],xe=l.useState(!1),_e=(0,i.Z)(xe,2),ve=_e[0],je=_e[1],be=l.useRef(),Ze=l.useState({availableRange:null,selectedRange:null}),Ne=(0,i.Z)(Ze,2),Ce=Ne[0],ke=Ne[1];l.useEffect((function(){Ee()}),[]);var ye=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(re.productsPerPage);case 2:(t=e.sent)&&ae((function(e){return(0,a.Z)((0,a.Z)({},e),{},{availablePagesQuantity:t})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("AVAILABLE_CHARACTERISTICS")){e.next=4;break}t=JSON.parse(sessionStorage.getItem("AVAILABLE_CHARACTERISTICS")),e.next=8;break;case 4:return e.next=6,T();case 6:t=e.sent,sessionStorage.setItem("AVAILABLE_CHARACTERISTICS",JSON.stringify(t));case 8:t.length>0&&(A(t),t.forEach((function(e){"Price"===e.title&&ke((function(t){return(0,a.Z)((0,a.Z)({},t),{},{availableRange:[Math.min.apply(Math,(0,s.Z)(e.values)),Math.max.apply(Math,(0,s.Z)(e.values))]})}))})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A((function(e){return e.map((function(e){var t={};for(var n in e.itemsCount)t[n]=null;return(0,a.Z)((0,a.Z)({},e),{},{itemsCount:t})}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t,n){var c,i,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de){e.next=8;break}return e.next=3,U(t,n);case 3:c=e.sent,E((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(c))})),ae((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPageNumber:t,productsPerPage:n})})),e.next=14;break;case 8:return e.next=10,Q(fe,X);case 10:i=e.sent,l=i.slice((t-1)*n,(t-1)*n+n-1),E((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(l))})),ae((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPageNumber:t})}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t,n,c,i){var l,o,u,d,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),E([]),de){e.next=12;break}return e.next=5,Q([],i);case 5:l=e.sent,o=l.slice((t-1)*n,(t-1)*n+n-1),1===t&&(o=l.slice(0,n)),E((0,s.Z)(o)),ae((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPageNumber:t,availablePagesQuantity:Math.ceil(l.length/re.productsPerPage)})})),e.next=20;break;case 12:return u=Fe(),e.next=15,Q(c||u,i);case 15:d=e.sent,p=d.slice((t-1)*n,(t-1)*n+n-1),1===t&&(p=d.slice(0,n)),E((0,s.Z)(p)),ae((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPageNumber:t,availablePagesQuantity:Math.ceil(d.length/re.productsPerPage)})}));case 20:setTimeout((function(){D(!1)}),1e3);case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye(),Pe(),t=_.get("sortBy"),de?(n=Fe(),De(),we(),Se(re.currentPageNumber,re.productsPerPage,n,t||X)):Se(re.currentPageNumber,re.productsPerPage,[],t||X);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){le(!1),$()},Re=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t,n){var c,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,Q(t,n);case 3:c=e.sent,s=c.length,ae((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPageNumber:parseInt(_.get("page"))||1,availablePagesQuantity:Math.ceil(s/e.productsPerPage)})})),c&&s>re.productsPerPage&&(c.length=re.productsPerPage),E(c),D(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Le=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,c,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),E([]),J(!0),D(!0),ge((function(e){return e.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{checkedItems:[]})}))})),je(!1),n=fe.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{checkedItems:[]})})),!((c=(0,s.Z)(new FormData(t.target))).length>0)){e.next=30;break}if(je(!0),c.forEach((function(e){n.forEach((function(t){e[0]===t.title&&(/\d+/i.test(e[1])?t.checkedItems.includes(+e[1])||t.checkedItems.push(+e[1]):t.checkedItems.includes(e[1])||t.checkedItems.push(e[1]))}))})),n.forEach((function(e){var t=Math.min.apply(Math,(0,s.Z)(L.filter((function(e){return"Price"===e.title}))[0].values)),n=Math.max.apply(Math,(0,s.Z)(L.filter((function(e){return"Price"===e.title}))[0].values));"Price"===e.title&&JSON.stringify(e.checkedItems)===JSON.stringify([t,n])&&(e.checkedItems=[])})),!n.some((function(e){return e.checkedItems.length>0}))){e.next=18;break}pe(!0),Re(n,X),we(),e.next=26;break;case 18:return e.next=20,O(re.productsPerPage,!1);case 20:i=e.sent,Pe(),pe(!1),ae((function(e){return(0,a.Z)((0,a.Z)({},e),{},{availablePagesQuantity:i})})),Se(1,re.productsPerPage,[],X),setTimeout((function(){return D(!1)}),1e3);case 26:Ve(n,X),ge(n),Me(),_.delete("page");case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be.current.reset(),ge((function(e){var n=e.map((function(e){return e.title===t?(0,a.Z)((0,a.Z)({},e),{},{checkedItems:[]}):(0,a.Z)({},e)}));return"Price"===t&&Be(),n})),n=fe.map((function(e){return e.title===t?(0,a.Z)((0,a.Z)({},e),{},{checkedItems:[]}):(0,a.Z)({},e)})),Ve(n,X),n.every((function(e){return 0===e.checkedItems.length}))&&(Pe(),pe(!1)),ae((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPageNumber:1})})),Se(1,re.productsPerPage,n,X);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(e,t){var n={};e.forEach((function(e){0!==e.checkedItems.length&&(n[e.title]=e.checkedItems.join(" "))})),v("By rating decrease"===t?n:(0,a.Z)((0,a.Z)({},n),{},{sortBy:t}))},Be=function(){ke((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedRange:null})}))},Fe=function(){if((0,s.Z)(_).length){var e=Object.fromEntries((0,s.Z)(_).map((function(e){return[e[0],e[1].split(" ").map((function(e){return/\d+/i.test(e)?+e:e}))]})));return fe.map((function(t){return e[t.title]?(0,a.Z)((0,a.Z)({},t),{},{checkedItems:e[t.title]}):(0,a.Z)((0,a.Z)({},t),{},{checkedItems:[]})}))}},De=function(){var e=Fe();e&&(pe(!0),je(!0),ge(e),e.forEach((function(e){"Price"===e.title&&2===e.checkedItems.length&&ke((function(t){return(0,a.Z)((0,a.Z)({},t),{},{selectedRange:e.checkedItems})}))})))},He=function(e){var t=_.toString().replace(/page=\d+/gi,"");return t?1===e?"?".concat(t):"?".concat(t,"&page=").concat(e):1===e?"":"?page=".concat(e)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(p.q,{children:[(0,j.jsx)("title",{children:"Catalogue - Smart Technics"}),(0,j.jsx)("meta",{name:"description",content:"You can find any gyroscooter by using available filters an sorting. You can also range products by some criterias"})]}),(0,j.jsx)("main",{children:(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)("div",{className:"breadcrumbs",children:(0,j.jsxs)("ul",{className:"breadcrumbs__list",children:[(0,j.jsx)("li",{className:"breadcrumbs__item",children:(0,j.jsx)(o.rU,{className:"breadcrumbs__link",to:"/",children:"Home"})}),(0,j.jsx)("li",{className:"breadcrumbs__item",children:(0,j.jsx)("span",{className:"breadcrumbs__link",children:"Catalogue"})})]})}),(0,j.jsxs)("section",{className:"page-catalogue",children:[(0,j.jsx)("h3",{className:"page-catalogue__title",children:"Catalogue"}),(0,j.jsxs)("div",{className:"page-catalogue__body",children:[(0,j.jsxs)("aside",{className:"page-catalogue__filter-body filter-catalogue"+(ie?" opened":""),children:[(0,j.jsxs)("div",{className:"filter-catalogue__header",children:[(0,j.jsx)("div",{className:"filter-catalogue__title",children:"Filters"}),(0,j.jsx)("button",{className:"filter-catalogue__btn",onClick:Me,"aria-label":"show available filters to apply"})]}),!F&&L.length>0?(0,j.jsxs)("form",{action:"#",className:"filter-catalogue__form",method:"GET",ref:be,onSubmit:Le,children:[(0,j.jsx)(k,{title:"\n                                                        ".concat(L.filter((function(e){return"Price"===e.title}))[0].title,",\n                                                        ").concat(L.filter((function(e){return"Price"===e.title}))[0].unit,"\n                                                    "),expanded:!0,children:(0,j.jsx)(I,{value:Ce,setValue:ke})}),L.map((function(e){if("Price"!==e.title&&"Charging time"!==e.title)return(0,j.jsx)(k,{title:e.unit?"".concat(e.title,", ").concat(e.unit):e.title,expanded:"Engine power"===e.title||fe.filter((function(t){return t.title===e.title}))[0].checkedItems.length,children:(0,j.jsx)(P,{title:e.title,existingValues:e.values||[],checkedValues:fe.filter((function(t){return t.title===e.title}))[0].checkedItems||[],itemsCount:e.itemsCount})},e.title)})),(0,j.jsx)("div",{className:"filter-catalogue__item filter-item",children:(0,j.jsx)("button",{className:"filter-item__btn",type:"submit",children:"Apply"})})]}):(0,j.jsx)(y,{})]}),(0,j.jsx)(S.Z,{visible:ie,onClick:Me}),(0,j.jsxs)("div",{className:"page-catalogue__content-body content-catalogue",children:[(0,j.jsxs)("div",{className:"content-catalogue__header header-content-catalogue",children:[(0,j.jsx)("button",{className:"header-content-catalogue__btn",onClick:function(){le(!0),z()},children:(0,j.jsx)("span",{children:"Filters"})}),(0,j.jsx)(Z,{checkedFilters:fe,animationSpeed:300,resetFilterList:function(){Pe(),ge((function(e){var t=[];return e.forEach((function(e){return t.push((0,a.Z)((0,a.Z)({},e),{},{checkedItems:[]}))})),t})),pe(!1),je(!1),be.current.reset(),Be(),v("By rating decrease"===X?{}:{sortBy:X}),ae((function(e){return(0,a.Z)((0,a.Z)({},e),{},{currentPageNumber:1})})),Se(1,re.productsPerPage,[],X)},resetSelectedFilter:Ae,isVisible:ve}),(0,j.jsx)("div",{className:"header-content-catalogue__select",id:"select",children:(0,j.jsx)(N,{placeholder:"Choose an option",selectedValue:X,options:["By rating decrease","By price increase","By price decrease"],searchModule:!1,updateSearchParams:function(e){_.delete("page"),_.delete("sortBy");var t=Object.fromEntries((0,s.Z)(_));v(e?(0,a.Z)((0,a.Z)({},t),{},{sortBy:e}):t)},setSelectedSortOption:ee,productsPerPage:re.productsPerPage,checkedFilters:fe,loadNewPage:Se})})]}),(0,j.jsxs)("div",{className:"content-catalogue__products products-content-catalogue",children:[(0,j.jsxs)("ul",{className:"products-content-catalogue__all-cards",children:[w.length>0?w.map((function(e){return(0,j.jsx)(f.Z,(0,a.Z)({},e),e.productId)})):null,q?(0,j.jsx)(g.Z,{items:3}):null]}),K?(0,j.jsx)(x.Z,{}):null,!q&&!K&&0===w.length&&!F&&(0,j.jsxs)("p",{className:"products-content-catalogue__no-products",children:["We haven't found any product that ",(0,j.jsx)("br",{})," satisfies to your searching parameters."]})]}),!q&&!K&&0!==w.length&&(0,j.jsxs)("div",{className:"content-catalogue__actions user-catalogue-actions",children:[re.currentPageNumber<re.availablePagesQuantity&&(0,j.jsxs)("button",{className:q?"user-catalogue-actions__more loading":"user-catalogue-actions__more",onClick:function(){return Ie(re.currentPageNumber+1,re.productsPerPage)},children:[(0,j.jsx)("span",{className:"user-catalogue-actions__more-span",children:"More"}),(0,j.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("path",{d:"M12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2V2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20V20ZM16 11H13V8C13 7.73478 12.8946 7.48043 12.7071 7.29289C12.5196 7.10536 12.2652 7 12 7C11.7348 7 11.4804 7.10536 11.2929 7.29289C11.1054 7.48043 11 7.73478 11 8V11H8C7.73479 11 7.48043 11.1054 7.2929 11.2929C7.10536 11.4804 7 11.7348 7 12C7 12.2652 7.10536 12.5196 7.2929 12.7071C7.48043 12.8946 7.73479 13 8 13H11V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V13H16C16.2652 13 16.5196 12.8946 16.7071 12.7071C16.8946 12.5196 17 12.2652 17 12C17 11.7348 16.8946 11.4804 16.7071 11.2929C16.5196 11.1054 16.2652 11 16 11Z",fill:"currentColor"})})]}),(0,j.jsx)("div",{className:"user-catalogue-actions__pagination pagination",children:re.availablePagesQuantity&&(0,j.jsx)(u.Z,{count:re.availablePagesQuantity,page:re.currentPageNumber,variant:"outlined",shape:"rounded",color:"primary",size:"large",renderItem:function(e){return(0,j.jsx)(d.Z,(0,a.Z)((0,a.Z)({component:o.rU,to:He(e.page)},e),{},{onClick:function(){return Se(e.page,re.productsPerPage,fe,X)}}))}})})]})]})]})]})]})})]})}}}]);
//# sourceMappingURL=CataloguePage.e044e3d0.chunk.js.map